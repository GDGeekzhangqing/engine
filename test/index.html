<!DOCTYPE HTML>
<html>
<head>
    <title> FIRE </title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #333333;
        }

        #help {
            position: absolute;
            z-index: 20;
            color: black;
            top: 20px;
            left: 120px;
        }
    </style>

    <script src="../ext/pixi/bin/pixi.dev.js"></script>
    <script src="..\ext\fire-core\bin\core.dev.js"></script>
    <script src="..\bin\engine.dev.js"></script>
</head>
<body>
    <script>
        // game view
        var canvas = FIRE.Engine.init(1366, 768).canvas;
        //document.body.appendChild(canvas);

        // scene view
        var sceneView = FIRE.Engine.createSceneView(512, 512);
        document.body.appendChild(sceneView.canvas);

        FIRE.Engine.play();
        
        var s = new FIRE.Entity();
        var spriteRenderer = s.addComponent(FIRE.SpriteRenderer);
        //entity.transform.position = new FIRE.Vec2(-44.5, -22);
        s.transform.position = new FIRE.Vec2(256, 256);
        var img = new Image();
        img.onload = function () {
            var sprite = new FIRE.Sprite(img);
            sprite.width = 89;
            sprite.height = 44;
            sprite.trimX = 10;
            sprite.trimY = 20;
            sprite.x = 0;
            sprite.y = 49;
            spriteRenderer.sprite = sprite;
            //console.log(FIRE.serialize(FIRE.Engine._scene));

            //var entity = new FIRE.Entity();
            //entity.addComponent(FIRE.SpriteRenderer).sprite = sprite;
            //entity.transform.position = new Vec2(100, 0);
        };

        var c = new FIRE.Entity();
        c._objFlags |= FIRE.ObjectFlags.SceneGizmo;
        camera = sceneView.camera = c.addComponent(FIRE.Camera);
        c.transform.position = new Vec2(256, 256);
        c.transform.update = function () {
            if (this.rotation > 1) {
                this.rotation = -1;
            }
            else {
                this.rotation += 0.01;
            }
        };
        img.src = '../test/assets/atlas (1).png';

    </script>

    </body>
</html>
